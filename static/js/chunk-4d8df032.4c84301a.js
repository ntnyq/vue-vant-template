(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d8df032"],{"2ef6":function(t,a,e){"use strict";var s=e("7701"),i=e.n(s);i.a},7701:function(t,a,e){},bb51:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("h1",{staticClass:"title"},[t._v(" GitHub Stars Rank ")]),e("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":"",shape:"round"},on:{search:t.onSearch},model:{value:t.params.q,callback:function(a){t.$set(t.params,"q",a)},expression:"params.q"}},[e("span",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])]),e("div",{staticClass:"cnt-wrap"},[e("van-list",{attrs:{finished:t.isFinished},on:{load:t.fetchData},model:{value:t.isLoading,callback:function(a){t.isLoading=a},expression:"isLoading"}},t._l(t.list,(function(a){return e("div",{key:a.node_id,staticClass:"list-item",attrs:{title:a.name}},[e("div",{staticClass:"list-item-header"},[e("h3",{staticClass:"list-item-title"},[t._v(" "+t._s(a.name)+" ")]),e("span",{staticClass:"list-item-update-time"},[e("van-icon",{attrs:{name:"calender-o"}}),e("span",[t._v(t._s(t._f("formatTime")(a.updated_at,"MM/dd hh:mm")))])],1)]),e("p",{staticClass:"list-item-description"},[t._v(" "+t._s(a.description)+" ")]),e("div",{staticClass:"list-item-action"},[e("div",{staticClass:"action-item"},[e("van-icon",{attrs:{name:"eye-o"}}),e("span",{staticClass:"action-item-num"},[t._v(" "+t._s(t._f("formatNumber")(a.watchers_count))+" ")])],1),e("div",{staticClass:"action-item"},[e("van-icon",{attrs:{name:"star-o"}}),e("span",{staticClass:"action-item-num"},[t._v(" "+t._s(t._f("formatNumber")(a.stargazers_count))+" ")])],1),e("div",{staticClass:"action-item"},[e("van-icon",{attrs:{name:"cluster-o"}}),e("span",{staticClass:"action-item-num"},[t._v(" "+t._s(t._f("formatNumber")(a.forks_count))+" ")])],1)])])})),0)],1)],1)},i=[],n=e("2909"),r=(e("96cf"),e("1da1")),o=(e("caad"),e("d3b7"),e("2532"),e("e7e5"),e("d399")),c=e("bc3a"),u=e.n(c),m=e("4328"),p=e.n(m),d=200,l=Object({VUE_APP_API_HOST:"https://api.github.com",NODE_ENV:"production",VUE_APP_TITLE:"GitHub Stars Rank",BASE_URL:""}),h=l.VUE_APP_API_HOST,f=l.VUE_APP_REQUEST_TIMEOUT,v=void 0===f?3e4:f,_=u.a.create({baseURL:h,timeout:v});_.interceptors.request.use((function(t){return"post"===t.method&&(t.data=p.a.stringify(t.data)),t}),(function(t){return Promise.reject(t)})),_.interceptors.response.use((function(t){var a=t.status,e=t.data;switch(a){case d:return e;default:break}}),(function(t){var a="ECONNABORTED"===t.code&&t.message.includes("timeout");return a?o["a"].fail("Response timeout!"):o["a"].fail(t.message||"Response failed unexpectly!"),Promise.reject(t)}));var g=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=a.method,s=void 0===e?"GET":e,i=a.params,n=void 0===i?{}:i,r=a.options,o=void 0===r?{}:r;switch(s=s.toUpperCase(),s){case"GET":return _.get(t,{params:n});case"POST":return _.post(t,n,o);case"DELETE":return _.delete(t,{params:n});case"PUT":return _.put(t,n);default:return Promise.reject(new Error("Unknown request method: ".concat(s)))}};function E(t){return g("/search/repositories",{params:t})}var b={name:"Home",data:function(){return{isLoading:!1,isFinished:!1,params:{q:"javascript",sort:"stars",per_page:20,page:1},list:[]}},methods:{onSearch:function(){this.params.q?(this.params.page=1,this.list=[],this.fetchData()):this.$notify({type:"warning",message:"Empty search word"})},fetchData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.next=3,E(t.params);case 3:s=a.sent,i=s.items,r=void 0===i?[]:i,o=s.total_count,(e=t.list).push.apply(e,Object(n["a"])(r)),t.params.page++,t.isLoading=!1,t.params.page*t.params.per_page>=o&&(t.isFinished=!0);case 11:case"end":return a.stop()}}),a)})))()}}},w=b,C=(e("2ef6"),e("2877")),P=Object(C["a"])(w,s,i,!1,null,"c468a5ce",null);a["default"]=P.exports}}]);